<!-- <!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <link rel="icon" href="/islamic-prayer-times/icon/praying-128.png"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="theme-color" content="#000000"/>
    <meta name="description" content="Web site that displays prayer times"/>
    <link rel="shortcut icon" href="/islamic-prayer-times/icon/favicon.ico" type="image/x-icon"/>
    <link rel="apple-touch-icon" href="apple-touch-icon.png"/>
    <link rel="manifest" href="/islamic-prayer-times/manifest.json"/>
    <title>Muslim Prayer Times</title><script defer="defer" src="/islamic-prayer-times/static/js/main.680d08e4.js">
      
    </script>
    <link href="/islamic-prayer-times/static/css/main.ddd4cae1.css" rel="stylesheet">
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root">
       <!-- 
        - #STATS
      -->
<!-- 
      <section class="stats" id="stats">
        <ul class="stats-list">

          <li>
            <a href="#" class="stats-card">

              <div class="card-icon">
                <img src="./assets/images/stats-card_icon-1.png" alt="Badge icon">
              </div>

              <h2 class="h2 card-title">
                4+ <strong>Years of Experience</strong>
              </h2>

              <ion-icon name="chevron-forward-outline"></ion-icon>

            </a>
          </li>

          <li>
            <a href="#" class="stats-card">

              <div class="card-icon">
                <img src="./assets/images/stats-card_icon-2.png" alt="Checkmark icon">
              </div>

              <h2 class="h2 card-title">
                250+ <strong>Completed Projects</strong>
              </h2>

              <ion-icon name="chevron-forward-outline"></ion-icon>

            </a>
          </li>

          <li>
            <a href="#" class="stats-card">

              <div class="card-icon">
                <img src="./assets/images/stats-card_icon-3.png" alt="Peoples rating icon">
              </div>

              <h2 class="h2 card-title">
                120+ <strong>Happy Clients</strong>
              </h2>

              <ion-icon name="chevron-forward-outline"></ion-icon>

            </a>
          </li>

        </ul>
      </section>
    </div>
  </body>
</html>
 --> 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mosque Prayer Screen</title>
   <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f1f1f1;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 10px;
        }

        main {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 80vh;
        }

        .info-container {
            display: flex;
            align-items: center;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .rounded-rectangle-container {
            width: 300px;
            height: 70px;
            background-color: #333;
            border-radius: 15px; /* Adjust the border-radius for more or less roundness */
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 10px;
        }

        .clock, .date, .islamic-date {
            font-size: 25px;
            color: #fff;
            text-align: center;
        }

        table {
            width: 80%;
            border-collapse: collapse;
            margin: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        th, td {
            padding: 15px;
            text-align: center;
        }

        th {
            background-color: #333;
            color: #fff;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        tr:hover {
            background-color: #ddd;
        }

        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 10px;
            position: absolute;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>
<body>
    <header>
        <h1>  <div>class="date" id="gregorian-date">Loading... </div>div> MAKKI MASJID بِسْمِ اللهِ الرَّحْمٰنِ الرَّحِيْمِ 
          <div>class="islamic-date" id="islamic-date">Loading... </div>div></h1>
    </header>

    <main>
     <div class="info-container">
            <div class="rounded-rectangle-container">
                <div class="clock" id="digital-clock">Loading...</div>
            </div>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Prayer</th>
                    <th>Prayer Time</th>
                    <th>Iqamah Time</th>
                </tr>
            </thead>
            <tbody>
                <tr id="fajr">
                    <td>Fajr</td>
                    <td id="fajr-prayer-time">Loading...</td>
                    <td id="fajr-iqamah-time">Loading...</td>
                </tr>
                <tr id="dhuhr">
                    <td>Dhuhr</td>
                    <td id="dhuhr-prayer-time">Loading...</td>
                    <td id="dhuhr-iqamah-time">Loading...</td>
                </tr>
                <tr id="asr">
                    <td>Asr</td>
                    <td id="asr-prayer-time">Loading...</td>
                    <td id="asr-iqamah-time">Loading...</td>
                </tr>
                <tr id="maghrib">
                    <td>Maghrib</td>
                    <td id="maghrib-prayer-time">Loading...</td>
                    <td id="maghrib-iqamah-time">Loading...</td>
                </tr>
                <tr id="isha">
                    <td>Isha</td>
                    <td id="isha-prayer-time">Loading...</td>
                    <td id="isha-iqamah-time">Loading...</td>
                </tr>
            </tbody>
        </table>
    </main>

    <footer>
        <p>&copy; 2024 MAKKI MASJID. All rights reserved.</p>
    </footer>

    <script>
    let iqamahTimes;
    let prayerTimes;

    function updatePrayerTimes() {
        if (prayerTimes && iqamahTimes) {
            const prayers = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];

            prayers.forEach(prayer => {
                const prayerTime = prayerTimes.data.timings[prayer];
                const iqamahTime = iqamahTimes[prayer];

                const prayerTimeElement = document.getElementById(`${prayer.toLowerCase()}-prayer-time`);
                const iqamahTimeElement = document.getElementById(`${prayer.toLowerCase()}-iqamah-time`);

                prayerTimeElement.textContent = prayerTime;
                iqamahTimeElement.textContent = iqamahTime;

                checkPrayerTime(prayer, prayerTime);
                checkIqamahTime(prayer, iqamahTime);
            });
        }
    }

    function fetchPrayerTimes() {
        const apiUrl = 'https://api.aladhan.com/v1/timingsByCity?city=dublin&country=ireland&method=2';

        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                console.log('Fetched prayer times from API:', data);
                prayerTimes = data;
                updatePrayerTimes();
            })
            .catch(error => {
                console.error('Error fetching prayer times from API:', error);
            });
    }

    function getIqamahTimesFromJson() {
        fetch('iqamah_times.json')
            .then(response => response.json())
            .then(data => {
                console.log('Fetched Iqamah times from JSON:', data);
                iqamahTimes = {
                    Fajr: data.Fajr,
                    Dhuhr: data.Dhuhr,
                    Asr: data.Asr,
                    Maghrib: data.Maghrib,
                    Isha: data.Isha,
                };

                updatePrayerTimes();
            })
            .catch(error => {
                console.error('Error fetching Iqamah times from JSON:', error);
            });
    }

    function checkPrayerTime(prayer, prayerTime) {
        const now = new Date();
        const currentTime = now.getHours() * 60 + now.getMinutes();
        const prayerTimeInMinutes = convertTimeToMinutes(prayerTime);

        if (currentTime === prayerTimeInMinutes) {
            triggerAlert(`It's time for ${prayer} prayer!`);
        }
    }

    function checkIqamahTime(prayer, iqamahTime) {
        const now = new Date();
        const currentTime = now.getHours() * 60 + now.getMinutes();
        const iqamahTimeInMinutes = convertTimeToMinutes(iqamahTime);

        if (currentTime === iqamahTimeInMinutes) {
            triggerAlert(`It's time for ${prayer} Iqamah!`);
        }
    }

    function convertTimeToMinutes(time) {
        const [hours, minutes] = time.split(':');
        return parseInt(hours) * 60 + parseInt(minutes);
    }

    function triggerAlert(message) {
        alert(message);
        playAlertSound();
    }

    function playAlertSound() {
        // You can replace the path with the location of your alert sound file
        const audio = new Audio('alert.mp3');
        audio.play();
    }

    function updateDigitalClock() {
        const now = new Date();
        const timeString = formatTime(now);

        document.getElementById('digital-clock').textContent = `${timeString}`;
    }

    function updateGregorianDate() {
        const now = new Date();
        const gregorianDate = now.toLocaleDateString('en-US', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric',
        });

        document.getElementById('gregorian-date').textContent = `${gregorianDate}`;
    }

    function updateIslamicDate() {
        const now = new Date();
        const islamicDate = new Intl.DateTimeFormat('en-US-u-ca-islamic', {
            day: 'numeric',
            month: 'long',
            year: 'numeric',
        }).format(now);

        document.getElementById('islamic-date').textContent = `${islamicDate}`;
    }

    function formatTime(date) {
        const hours = padZero(date.getHours());
        const minutes = padZero(date.getMinutes());
        const seconds = padZero(date.getSeconds());

        return `${hours}:${minutes}:${seconds}`;
    }

    function padZero(number) {
        return number < 10 ? `0${number}` : number;
    }

    // Fetch prayer times from API
    fetchPrayerTimes();

    // Initial update
    updateDigitalClock();
    updateGregorianDate();
    updateIslamicDate();
    getIqamahTimesFromJson();

    // Update the page every second
    setInterval(() => {
        updatePrayerTimes();
        updateDigitalClock();
        updateGregorianDate();
        updateIslamicDate();
    }, 1000);
</script>

</body>
</html>
